(this.webpackJsonpstntf=this.webpackJsonpstntf||[]).push([[0],{21:function(e,t,a){e.exports={root:"ErrorMessage_root__NRLx7",container:"ErrorMessage_container__3ZrjM",title:"ErrorMessage_title__35STL",close:"ErrorMessage_close__3R5I0",description:"ErrorMessage_description__1BJvH"}},22:function(e,t,a){e.exports={root:"NavMenu_root__3kA91",list:"NavMenu_list__3NXH1","list-item":"NavMenu_list-item__3fm5C"}},23:function(e,t,a){e.exports={root:"Header_root__1okqK",container:"Header_container__yvmYW","left-col":"Header_left-col__3hGwZ","right-col":"Header_right-col__2-w3r",btn:"Header_btn__36rNI"}},24:function(e,t,a){e.exports={root:"Logo_root__VNSI1",text:"Logo_text__cunZQ","star-container":"Logo_star-container__2LbxM",star:"Logo_star__1Va-w"}},30:function(e,t,a){e.exports={usersNav:"Paginator_usersNav__17Fr0",selectedPage:"Paginator_selectedPage__1MbLX"}},33:function(e,t,a){e.exports={loader:"Preloader_loader__qIUzo",loaderInner:"Preloader_loaderInner__3fHwt"}},36:function(e,t,a){},49:function(e,t,a){e.exports=a.p+"static/media/loader.32a50f1c.gif"},5:function(e,t,a){e.exports={root:"SignForm_root__17b0J",form:"SignForm_form__uVEXK","redirect-container":"SignForm_redirect-container__27ji7","redirect-btn":"SignForm_redirect-btn__rD6Lg","redirect-btn_reverce-theme":"SignForm_redirect-btn_reverce-theme__263UT","input-container":"SignForm_input-container__2GAVh",input:"SignForm_input__15pae","input-placeholder":"SignForm_input-placeholder__28GRQ",submit:"SignForm_submit__2MllJ"}},50:function(e,t,a){e.exports={home:"Home_home__2DAAj"}},51:function(e,t,a){e.exports={services:"Services_services__2cT4Y"}},52:function(e,t,a){e.exports={products:"Products_products__2nF0d"}},53:function(e,t,a){e.exports={dashboard:"Dashboard_dashboard__1kjIR"}},56:function(e,t,a){e.exports={marketing:"Marketing_marketing__6zxQb"}},57:function(e,t,a){e.exports={consulting:"Consulting_consulting__16rRS"}},59:function(e,t,a){e.exports=a(88)},86:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(26),c=a.n(s),o=a(14),u=a(12),i=a(19),l=a(47),m=a(2),p=a(6),d=a.n(p),f=a(15),g=a(48).create({baseURL:"https://star-it-api.herokuapp.com/",headers:{"Content-Type":"application/json"}});g.interceptors.response.use(function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"signin"===t.config.url.split("/")[2]&&(localStorage.setItem("star_it_access_token",t.data.accessToken),localStorage.setItem("star_it_refresh_token",t.data.refreshToken)),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return e.response})),g.interceptors.request.use((function(e){var t=e;return"signin"===t.url.split("/")[2]&&"signup"===t.url.split("/")[2]||("refresh"===t.url.split("/")[2]?t.headers.Authorization="".concat(localStorage.getItem("star_it_refresh_token")):t.headers.Authorization="".concat(localStorage.getItem("star_it_access_token"))),t}),(function(e){Promise.reject(e)}));var h={path:"api/auth/",signin:function(e,t){return g.get("".concat(this.path,"signin"),{params:{mac:"E1:8C:24:6D:F9:85",email:e,password:t}}).then((function(e){return e.data}))},signup:function(e,t,a){return g.post("".concat(this.path,"signup"),JSON.stringify({payload:{mac:"E1:8C:24:6D:F9:85",name:e,email:t,password:a}})).then((function(e){return e.data}))},me:function(){return g.get("".concat(this.path,"me"),{params:{mac:"E1:8C:24:6D:F9:85"}}).then((function(e){return e.data}))},refresh:function(){return g.get("".concat(this.path,"refresh"),{params:{mac:"E1:8C:24:6D:F9:85"}}).then((function(e){return e.data}))}},E={path:"api/business/",search:function(e,t){return g.get("".concat(this.path,"search"),{params:{mac:"E1:8C:24:6D:F9:85",pageNumber:e,value:t}}).then((function(e){return e.data}))},get:function(e){return g.get("".concat(this.path).concat(e),{params:{mac:"E1:8C:24:6D:F9:85"}}).then((function(e){return e.data}))},getAll:function(e){return g.get("".concat(this.path),{params:{mac:"E1:8C:24:6D:F9:85",pageNumber:e}}).then((function(e){return e.data}))},add:function(e,t){return g.post("".concat(this.path),JSON.stringify({payload:{mac:"E1:8C:24:6D:F9:85",name:e,image:t}})).then((function(e){return e.data}))},update:function(e){for(var t={name:e},a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];return n.image&&(t=Object(m.a)(Object(m.a)({},t),{},{image:n.image})),g.put("".concat(this.path),JSON.stringify({payload:Object(m.a)({mac:"E1:8C:24:6D:F9:85"},t)})).then((function(e){return e.data}))}},_={isLoaded:!1,error:{status:0,param:"",message:""},isError:!1},b="star_it/common/CHANGE-LOADED",v="star_it/common/SET-ERROR",N=function(e){return{type:b,data:{isLoaded:e}}},S=function(e,t,a,n){return{type:v,data:{error:{status:t,param:n,message:a},isError:e}}},k=function(e){return function(t){var a={message:e.message,status:e.status};e.param?a.param=e.param:a.param="",t(S(!0,a.status,a.message,a.param))}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:case v:return Object(m.a)(Object(m.a)({},e),t.data);default:return e}},y={userId:null,email:null,name:null,userStatus:null,isAuth:!1,isInitialized:!1},C="star_it/auth/SET-USER-DATA",x=function(e,t,a,n,r){return{type:C,data:{userId:e,email:t,name:a,isAuth:n,userStatus:r}}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:case"star_it/auth/SET-INITIALIZED":return Object(m.a)(Object(m.a)({},e),t.data);default:return e}},O=function(e){var t=e.indexOf("/assets/");return"".concat("https://star-it-api.herokuapp.com").concat(e.slice(t))},j={businesses:[],selectedBusiness:{id:null,name:null,path:null},pageNumber:0,countPages:1},w="star_it/business/SET-BUSINESSES",A="star_it/business/SET_PAGE-NUMBER",F=function(e,t){return{type:w,data:{businesses:e,countPages:t}}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:case"star_it/business/SET-SELECTED-BUSINESS":case A:return Object(m.a)(Object(m.a)({},e),t.data);default:return e}},D=Object(i.c)({auth:I,common:P,business:L}),T=Object(i.e)(D,Object(i.a)(l.a)),M=(a(86),a(3)),R=a(33),B=a.n(R),U=a(49),z=a.n(U),H=function(e){return e.isLoader?r.a.createElement("div",{className:B.a.loader},r.a.createElement("img",{className:B.a.loaderInner,src:z.a,alt:"\u041f\u0440\u0435\u043b\u043e\u0430\u0434\u0435\u0440"})):r.a.createElement(r.a.Fragment,null)};H.defaultProps={isLoader:!1};var J=H,G=a(21),q=a.n(G),K=function(e){var t=e.error,a=e.onClick;return r.a.createElement("div",{className:q.a.root,"data-type":"close",tabIndex:"0",role:"button",onClick:a,onKeyDown:function(e){13===e.keyCode&&a()}},r.a.createElement("div",{className:q.a.container},r.a.createElement("span",{"data-type":"close",role:"button",tabIndex:"0",className:q.a.close,onClick:a,onKeyDown:function(e){13===e.keyCode&&a()}}," "),r.a.createElement("h1",{className:q.a.title},"\u041e\u0448\u0438\u0431\u043a\u0430",""!==t.param?" ".concat(t.status," \u0432 ").concat(t.param,"!"):" ".concat(t.status,"!")),r.a.createElement("p",{className:q.a.description},t.message)))};K.defaultProps={error:{},onClick:function(){return!0}};var V=K,Z=function(e){var t=e.isError,a=e.error,n=e.setErrorFunc;return t?r.a.createElement(V,{error:a,onClick:function(e){"close"===e.target.getAttribute("data-type")&&n(!1,0,"","")}}):r.a.createElement(r.a.Fragment,null)};Z.defaultProps={error:{},isError:!1,setErrorFunc:function(){return!0}};var Q=Object(u.b)((function(e){return{error:e.common.error,isError:e.common.isError}}),{setErrorFunc:S})(Z),X=a(24),Y=a.n(X),W=function(){return r.a.createElement(o.b,{to:"/",className:Y.a.root},r.a.createElement("p",{className:Y.a.text},"Star IT"),r.a.createElement("div",{className:Y.a["star-container"]},r.a.createElement("span",{className:Y.a.star},"\u2606")))},$=a(36),ee=a.n($),te=function(e){var t=e.route,a=e.text;return r.a.createElement("div",{className:ee.a.root},r.a.createElement(o.b,{to:t,className:ee.a.link},a))};te.defaultProps={route:"",text:""};var ae=te,ne=a(22),re=a.n(ne),se=function(){return r.a.createElement("nav",{className:re.a.root},r.a.createElement("ul",{className:re.a.list},r.a.createElement("li",{className:re.a["list-item"]},r.a.createElement(ae,{route:"/home",text:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})),r.a.createElement("li",{className:re.a["list-item"]},r.a.createElement(ae,{route:"/business",text:"\u0411\u0438\u0437\u043d\u0435\u0441\u044b"})),r.a.createElement("li",{className:re.a["list-item"]},r.a.createElement(ae,{route:"/account",text:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"}))))},ce=a(23),oe=a.n(ce),ue=function(e){var t=e.onClick;return r.a.createElement("header",{className:oe.a.root},r.a.createElement("div",{className:oe.a.container},r.a.createElement("div",{className:oe.a["left-col"]},r.a.createElement(W,null)),r.a.createElement("div",{className:oe.a["right-col"]},r.a.createElement(se,null),r.a.createElement("button",{type:"button",onClick:t,className:oe.a.btn},"\u0412\u044b\u0445\u043e\u0434"))))};ue.defaultProps={onClick:function(){return!0}};var ie=ue,le=function(e){var t=e.setUserData;return r.a.createElement(ie,{onClick:function(){t(null,null,null,!1,null),localStorage.removeItem("star_it_access_token"),localStorage.removeItem("star_it_refresh_token")}})};le.defaultProps={setUserData:function(){return!0}};var me=Object(u.b)((function(e){return{isAuth:e.auth.isAuth}}),{setUserData:x})(le),pe=a(50),de=a.n(pe),fe=function(){return r.a.createElement("h1",{className:de.a.home},"Service for collecting and analyzing customer feedback")},ge=a(51),he=a.n(ge),Ee=function(){return r.a.createElement("h1",{className:he.a.services},"SERVICES")},_e=a(52),be=a.n(_e),ve=function(){return r.a.createElement("h1",{className:be.a.products},"PRODUCTS")},Ne=a(53),Se=a.n(Ne),ke=function(){return r.a.createElement("h3",{className:Se.a.dashboard},"supermarket rating")},Pe=a(58),ye=a(5),Ce=a.n(ye),xe=function(e){var t=e.isLogin,a=e.formik,n=e.blur,s=e.focus;return r.a.createElement("div",{className:Ce.a.root},r.a.createElement("div",{className:Ce.a["root-container"]},r.a.createElement("form",{className:Ce.a.form,onSubmit:a.handleSubmit},r.a.createElement("div",{className:Ce.a["redirect-container"]},t?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:Ce.a["choose-btn"]},"Sign in"),r.a.createElement(o.c,{className:Ce.a["redirect-btn"],to:"/signup"},"Sign up")):r.a.createElement(r.a.Fragment,null,r.a.createElement(o.c,{className:"".concat(Ce.a["redirect-btn"]," ").concat(Ce.a["redirect-btn_reverce-theme"]),to:"/signin"},"Sign in"),r.a.createElement("h3",{className:Ce.a["choose-btn"]},"Sign up"))),!t&&r.a.createElement("div",{className:Ce.a["input-container"]},r.a.createElement("span",{className:Ce.a["input-placeholder"]},"Name"),r.a.createElement("input",{type:"text",name:"name",placeholder:"Name",onChange:a.handleChange,value:a.values.name,className:Ce.a.input,onBlur:n,onFocus:s})),r.a.createElement("div",{className:Ce.a["input-container"]},r.a.createElement("span",{className:Ce.a["input-placeholder"]},"Email"),r.a.createElement("input",{type:"email",name:"email",placeholder:"Email",onChange:a.handleChange,value:a.values.email,className:Ce.a.input,onBlur:n,onFocus:s})),r.a.createElement("div",{className:Ce.a["input-container"]},r.a.createElement("span",{className:Ce.a["input-placeholder"]},"Password"),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",onChange:a.handleChange,value:a.values.password,className:Ce.a.input,onBlur:n,onFocus:s})),r.a.createElement("button",{type:"submit",className:Ce.a.submit},t?"Sign in":"Sign up"))))};xe.defaultProps={isLogin:!1,formik:{},blur:function(){return!0},focus:function(){return!0}};var Ie=xe,Oe=function(e){var t=e.isLogin,a=e.isAuth,n=e.signin,s=e.signup,c=e.blur,o=e.focus,u=Object(Pe.a)({initialValues:{email:"",password:"",name:""},onSubmit:function(e){return t?n(e.email,e.password):s(e.name,e.email,e.password)}});return a?r.a.createElement(M.a,{to:"/home"}):r.a.createElement(Ie,{isLogin:t,formik:u,blur:c,focus:o})};Oe.defaultProps={isLogin:!1,isAuth:!1,signin:function(){return!0},signup:function(){return!0},blur:function(){return!0},focus:function(){return!0}};var je=Object(u.b)((function(e){return{isAuth:e.auth.isAuth}}),{signin:function(e,t){return function(){var a=Object(f.a)(d.a.mark((function a(n){var r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(N(!0)),a.next=3,h.signin(e,t);case 3:200===(r=a.sent).status?n(x(r.user.id,r.user.email,r.user.name,!0,r.user.userStatus)):n(k(r)),n(N(!1));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},signup:function(e,t,a){return function(){var n=Object(f.a)(d.a.mark((function n(r){var s;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(N(!0)),n.next=3,h.signup(e,t,a);case 3:200!==(s=n.sent).status&&r(k(s)),r(N(!1));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},blur:function(e){""===e.target.value&&(e.target.placeholder=e.target.parentNode.querySelector("span").textContent,e.target.parentNode.querySelector("span").style.display="none"),e.preventDefault()},focus:function(e){e.target.placeholder="",e.target.parentNode.querySelector("span").style.display="block",e.preventDefault()}})(Oe),we=a(56),Ae=a.n(we),Fe=function(){return r.a.createElement("h1",{className:Ae.a.marketing},"MARKETING")},Le=a(57),De=a.n(Le),Te=function(){return r.a.createElement("h1",{className:De.a.consulting},"CONSULTING")},Me=a(30),Re=a.n(Me),Be=function(e){var t=e.pages;return r.a.createElement("div",{className:Re.a.usersNav},t)};Be.defaultProps={pages:[]};var Ue=Be,ze=function(e){var t=e.countPages,a=e.pageNumber,n=e.onPageChanged,s=[];if(t>=15)if(a<8)for(var c=1;c<=15;c+=1)s.push(c);else if(a>t-7)for(var o=t-15;o<=t;o+=1)s.push(o);else for(var u=a-7;u<=a+7;u+=1)s.push(u);else for(var i=1;i<=t;i+=1)s.push(i);return s=s.map((function(e,t){return r.a.createElement("span",{key:e,role:"button",tabIndex:0,onClick:function(){return n(t)},className:a===t?Re.a.selectedPage:null,onKeyDown:function(e){13===e.keyCode&&n(t)}},e)})),r.a.createElement(Ue,{pages:s})};ze.defaultProps={pageNumber:1,countPages:1,onPageChanged:function(){return!0}};var He=ze,Je=function(e){var t=e.id,a=e.name,n=e.path;return r.a.createElement("div",{id:"business".concat(t),align:"center"},r.a.createElement("p",null,a),r.a.createElement("img",{src:n,alt:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435...."}))};Je.defaultProps={id:0,name:"",path:""};var Ge=Je,qe=function(e){var t=e.pageNumber,a=e.countPages,n=e.onPageChanged,s=e.businesses.map((function(e){return r.a.createElement(Ge,{key:e.id,id:e.id,name:e.name,path:e.path})}));return r.a.createElement(r.a.Fragment,null,s,r.a.createElement(He,{pageNumber:t,countPages:a,onPageChanged:n}))};qe.defaultProps={pageNumber:0,countPages:1,onPageChanged:function(){return!0},businesses:[]};var Ke=qe,Ve=function(e){var t=e.pageNumber,a=e.countPages,s=e.onPageChanged,c=e.businesses,o=e.getBusinesses;return Object(n.useEffect)((function(){o(t)}),[t]),r.a.createElement(Ke,{pageNumber:t,countPages:a,onPageChanged:s,businesses:c})};Ve.defaultProps={pageNumber:0,countPages:1,onPageChanged:function(){return!0},businesses:[],getBusinesses:function(){return!0}};var Ze=Object(u.b)((function(e){return{pageNumber:e.business.pageNumber,countPages:e.business.countPages,businesses:e.business.businesses}}),{onPageChanged:function(e){return{type:A,data:{pageNumber:e}}},getBusinesses:function(e){return function(){var t=Object(f.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(N(!0)),t.next=3,E.getAll(e);case 3:n=t.sent,r=n.businesses.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{path:O(e.path)})})),200===n.status?a(F(r,n.countPages)):k(n),a(N(!1));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(Ve),Qe=function(e){var t=e.isAuth,a=e.isLoaded,s=e.isInitialized,c=e.checkAuth;return Object(n.useEffect)((function(){!s&&localStorage.getItem("star_it_token")&&c()}),[]),!t&&s?r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{isLoader:a||!s}),r.a.createElement(Q,null),r.a.createElement(M.d,null,r.a.createElement(M.b,{path:"/signin",render:function(){return r.a.createElement(je,{isLogin:!0})}}),r.a.createElement(M.b,{path:"/signup",render:function(){return r.a.createElement(je,null)}}),r.a.createElement(M.a,{to:"/signin"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{isLoader:a||!s}),r.a.createElement(me,null),r.a.createElement(Q,null),r.a.createElement(M.d,null,r.a.createElement(M.b,{path:"/home",exact:!0,component:fe}),r.a.createElement(M.b,{path:"/services",component:Ee}),r.a.createElement(M.b,{path:"/products",component:ve}),r.a.createElement(M.b,{path:"/dashboard",component:ke}),r.a.createElement(M.b,{path:"/marketing",component:Fe}),r.a.createElement(M.b,{path:"/consulting",component:Te}),r.a.createElement(M.b,{path:"/businesses",component:Ze}),r.a.createElement(M.a,{to:"/home"})))};Qe.defaultProps={isAuth:!1,isLoaded:!1,isInitialized:!1,checkAuth:function(){return!0}};var Xe=Object(i.d)(Object(u.b)((function(e){return{isAuth:e.auth.isAuth,isLoaded:e.common.isLoaded,isInitialized:e.auth.isInitialized}}),{checkAuth:function(){return function(){var e=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(N(!0)),e.next=3,h.me();case 3:200===(a=e.sent).status&&t(x(a.user.id,a.user.email,a.user.name,!0,a.user.userStatus)),t(N(!1)),t({type:"star_it/auth/SET-INITIALIZED",data:{isInitialized:!0}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(Qe);c.a.render(r.a.createElement(o.a,{basename:"/"},r.a.createElement(u.a,{store:T},r.a.createElement(Xe,null))),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.3971a43e.chunk.js.map